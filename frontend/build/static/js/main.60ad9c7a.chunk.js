(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{38:function(e,t,a){e.exports=a(67)},43:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),s=a.n(c),l=(a(43),a(3)),u=a(4),o=a(6),i=a(5),m=a(12),p=a(8),h=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"main-page home"},r.a.createElement("div",{className:"page-title welcome"},r.a.createElement("h1",null,"welcome, traveller!")),r.a.createElement("div",{className:"home-text"},r.a.createElement("p",null,"Whether you prefer backpacking or a nice  resort, city weekends or adventures with no return ticket, beach or mountain, bus or train, solo or with friends..."),r.a.createElement("h4",null,"nem! is here to help you plan it")))}}]),a}(r.a.Component),b=a(1),d=a.n(b),v=a(7),f=a(11),g=a(2),E=a(9),O=a.n(E),j=function(e){window.localStorage.setItem("token",e)},y=function(){return window.localStorage.getItem("token")},k=function(){return window.localStorage.getItem("username")},w=function(){var e=y();if(!e)return!1;var t=e.split(".");return!(t.length<3)&&JSON.parse(window.atob(t[1]))},x=function(){return w().sub},C=function(){var e=w();return!!e&&Math.round(Date.now()/1e3)<e.exp},N=function(){localStorage.removeItem("token")},S=function(){return{headers:{Authorization:"Bearer ".concat(y())}}},D=function(e){return O.a.post("".concat("/api","/users/register/"),e)},q=function(e){return O.a.post("".concat("/api","/users/login/"),e)},I=function(){return O.a.get("".concat("/api","/users/"),S())},M=function(){return O.a.get("".concat("/api","/clubs/"),S())},A=function(e){return O.a.post("".concat("/api","/clubs/"),e,S())},T=function(e,t){return O.a.put("".concat("/api","/clubs/").concat(t,"/"),e,S())},F=function(e){return O.a.get("".concat("/api","/myclubs/").concat(e,"/trips/"),S())},P=function(){return O.a.get("".concat("/api","/mytrips/"),S())},R=function(e){return O.a.post("".concat("/api","/mytrips/"),e,S())},U=function(e){return O.a.get("".concat("/api","/mytrips/").concat(e,"/pins/"),S())},L=function(e){return O.a.post("".concat("/api","/pins/"),e,S())},_=function(e){return O.a.get("".concat("/api","/chats/").concat(e,"/"),S())},J=function(e){return O.a.post("".concat("/api","/messages/"),e,S())},B=function(e){return O.a.post("".concat("/api","/chats/"),e,S())},z=function(){return O.a.get("".concat("/api","/requests/"),S())},H=function(e){return O.a.delete("".concat("/api","/requests/").concat(e,"/"),S())},W=function(e){return O.a.post("".concat("/api","/requests/"),e,S())},Y=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={formData:{username:"",email:"",password:"",password_confirmation:""},errors:{}},e.handleChange=function(t){var a=Object(g.a)(Object(g.a)({},e.state.formData),{},Object(f.a)({},t.target.name,t.target.value)),n=Object(g.a)(Object(g.a)({},e.state.errors),{},Object(f.a)({},t.target.name,""));e.setState({formData:a,errors:n})},e.handleSubmit=function(){var t=Object(v.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,D(e.state.formData);case 4:e.props.history.push("/login"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),console.log("error!!!");case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.state.formData;return r.a.createElement("div",{className:"main-page"},r.a.createElement("div",{className:"page-title"},r.a.createElement("h1",null,"register")),r.a.createElement("form",{className:"auth",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"username"),r.a.createElement("input",{placeholder:"username",name:"username",onChange:this.handleChange,value:e.username})),r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"email"),r.a.createElement("input",{placeholder:"email",name:"email",onChange:this.handleChange,value:e.email})),r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"password"),r.a.createElement("input",{type:"password",placeholder:"password",name:"password",onChange:this.handleChange,value:e.password})),r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"confirm password"),r.a.createElement("input",{type:"password",placeholder:"confirm password",name:"password_confirmation",onChange:this.handleChange,value:e.password_confirmation})),r.a.createElement("button",null,"submit")))}}]),a}(r.a.Component),G=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={formData:{username:"",password:""},error:""},e.handleChange=function(t){var a=Object(g.a)(Object(g.a)({},e.state.formData),{},Object(f.a)({},t.target.name,t.target.value));e.setState({formData:a,error:""})},e.handleSubmit=function(){var t=Object(v.a)(d.a.mark((function t(a){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,q(e.state.formData);case 4:n=t.sent,j(n.data.token),e.props.history.push("/dashboard"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.state.formData;return r.a.createElement("div",{className:"main-page"},r.a.createElement("div",{className:"page-title"},r.a.createElement("h1",null,"login")),r.a.createElement("form",{className:"auth login",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"username:"),r.a.createElement("input",{placeholder:"username",name:"username",onChange:this.handleChange,value:e.username})),r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"password:"),r.a.createElement("input",{type:"password",placeholder:"password",name:"password",onChange:this.handleChange,value:e.password})),r.a.createElement("button",null,"submit")))}}]),a}(r.a.Component),K=function(){return r.a.createElement("div",{className:"links"},r.a.createElement(m.b,{to:"/myclubs",className:"navbar-item"},"my clubs "),r.a.createElement(m.b,{to:"/mytrips",className:"navbar-item"},"my trips "),r.a.createElement(m.b,{to:"/mypins",className:"navbar-item"},"my pins "))},Q=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleLogout=function(){N(),e.props.history.push("/")},e}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"navbar"},r.a.createElement("div",{className:"links"},r.a.createElement(m.b,{to:"/",className:"navbar-item logo",onClick:this.handleHideNavbar},"nem! "),C()&&r.a.createElement(m.b,{to:"/dashboard",className:"navbar-item",onClick:this.handleLoggedNavbar},"dashboard "),!C()&&r.a.createElement(m.b,{to:"/register",className:"navbar-item"},"register "),!C()&&r.a.createElement(m.b,{to:"/login",className:"navbar-item"},"login ")),C()&&r.a.createElement("div",{className:"logout"},r.a.createElement("button",{onClick:this.handleLogout},"logout"))),C()&&r.a.createElement("div",{className:"navbar-logged"},r.a.createElement(K,null)))}}]),a}(r.a.Component),V=Object(p.f)(Q),X=function(e){var t=e.id,a=e.name;e.members;return r.a.createElement(m.b,{to:"/myclubs/".concat(t)},r.a.createElement("div",{className:"club-card"},r.a.createElement("h3",null,a)))},Z=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={username:"",club:{name:"",members:[]},users:[],clubRequested:null},e.handleChangeCreateClub=function(t){try{var a=Object(g.a)(Object(g.a)({},e.state.club),{},Object(f.a)({},t.target.name,t.target.value));e.setState({club:a})}catch(n){console.log(n)}},e.handleSubmitCreateClub=function(){var t=Object(v.a)(d.a.mark((function t(a){var n,r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,n=x(),t.next=5,A(Object(g.a)(Object(g.a)({},e.state.club),{},{members:[n]}));case 5:return r=t.sent,console.log(r.data),c=r.data.id,t.next=10,B(Object(g.a)(Object(g.a)({},e.state.chat),{},{club:c}));case 10:e.props.history.push("/myclubs"),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(v.a)(d.a.mark((function e(){var t,a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k();case 3:return t=e.sent,e.next=6,I();case 6:return a=e.sent,e.next=9,M();case 9:n=e.sent,this.setState({username:t,users:a.data,allClubs:n.data}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,this,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.club;return r.a.createElement("div",{className:"create-club"},r.a.createElement("h3",null,"create a club"),r.a.createElement("form",{onSubmit:this.handleSubmitCreateClub},r.a.createElement("input",{placeholder:"name of the club",name:"name",onChange:this.handleChangeCreateClub,value:e.name}),r.a.createElement("button",null,"create!")))}}]),a}(r.a.Component),$=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={myClubs:[]},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(v.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("".concat("/api","/clubs/myclubs/"),S());case 3:return t=e.sent,e.next=6,t.data.reverse();case 6:a=e.sent,this.setState({myClubs:a}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("error!!");case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"main-page-c"},r.a.createElement("div",{className:"page-title"},r.a.createElement("h1",null,"my clubs")),r.a.createElement("div",{className:"my-clubs-index"},this.state.myClubs.map((function(e){return r.a.createElement(X,Object.assign({},e,{key:e.id}))}))),r.a.createElement(Z,null))}}]),a}(r.a.Component),ee=a(20),te=function(e){var t=e.name,a=e.owner,n=e.link;return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.b,{to:n},r.a.createElement("div",{className:"trip-card"},r.a.createElement("h3",null,t),r.a.createElement("h4",null,a.name))))},ae=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={clubTrips:[],clubID:""},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(v.a)(d.a.mark((function e(){var t,a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.props.props.match.params.clubID,e.next=4,F(t);case 4:return a=e.sent,e.next=7,a.data.reverse();case 7:n=e.sent,this.setState({clubID:t,clubTrips:n}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.clubTrips&&this.state.clubID?r.a.createElement("div",{className:"club-trip-index"},this.state.clubTrips.map((function(t){return r.a.createElement(te,Object.assign({},t,{key:t.id,link:"/myclubs/".concat(e.state.clubID,"/trips/").concat(t.id)}))}))):null}}]),a}(r.a.Component),ne=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={message:{content:"",chat:"",user:""},allMessages:[]},e.pageSetup=Object(v.a)(d.a.mark((function t(){var a,n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=e.props.clubID,t.next=4,_(a);case 4:return n=t.sent,t.next=7,n.data.messages.reverse();case 7:r=t.sent,e.setState({allMessages:r}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])}))),e.handleMessageChange=function(t){try{var a=Object(g.a)(Object(g.a)({},e.state.message),{},Object(f.a)({},t.target.name,t.target.value));e.setState({message:a})}catch(n){console.log(n)}},e.handleMessageSubmit=function(){var t=Object(v.a)(d.a.mark((function t(a){var n,r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,n=e.props.clubID,r=x(),t.next=6,J(Object(g.a)(Object(g.a)({},e.state.message),{},{chat:n,user:r}));case 6:return c=t.sent,e.setState({allMessages:c.data.messages,message:Object(g.a)(Object(g.a)({},e.state.message),{},{content:"",chat:n,user:r})}),t.next=10,e.pageSetup();case 10:console.log(c),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(v.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{this.pageSetup()}catch(t){console.log(t)}case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.allMessages?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"chatbox-frame"},r.a.createElement("h1",null,"chat"),r.a.createElement("div",{className:"chat-feed"},this.state.allMessages.map((function(e){return r.a.createElement("div",{key:e.id,className:"chat-message"},r.a.createElement("h5",null,r.a.createElement("strong",null,e.user.username)," on ",e.created_at),r.a.createElement("h4",null,e.content))}))),r.a.createElement("div",{className:"create-message"},r.a.createElement("form",{onSubmit:this.handleMessageSubmit},r.a.createElement("textarea",{type:"textarea",rows:"2",maxLength:"300",name:"content",onChange:this.handleMessageChange,value:this.state.message.content}),r.a.createElement("button",null,"reply"))))):null}}]),a}(r.a.Component),re=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ne,{clubID:this.props.match.params.clubID}))}}]),a}(r.a.Component),ce=Object(p.f)(re),se=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={pin:{title:"",address:"",details:"",image:"",link:"",owner:"",trips:[]},myTrips:[]},e.handleChange=function(t){try{var a=Object(g.a)(Object(g.a)({},e.state.pin),{},Object(f.a)({},t.target.name,t.target.value));e.setState({pin:a})}catch(n){console.log(n)}},e.handleUserSelect=function(t){var a=t?t.map((function(e){return e.name})):[],n=Object(g.a)(Object(g.a)({},e.state.pin),{},{trips:a});e.setState({pin:n})},e.handleSubmit=function(){var t=Object(v.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,L(Object(g.a)({},e.state.pin));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(v.a)(d.a.mark((function e(){var t,a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x();case 3:return t=e.sent,a=Object(g.a)(Object(g.a)({},this.state.pin),{},{owner:t}),e.next=7,P();case 7:n=e.sent,this.setState({pin:a,myTrips:n}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(!this.state.pin.owner)return null;var e=this.state.pin,t=this.state.myTrips.data.map((function(e){return{value:e.name,label:e.name,name:e.id}}));return r.a.createElement("div",{className:"create-a-pin"},r.a.createElement("h3",null,"create a pin"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("input",{placeholder:"name of the pin *",name:"title",onChange:this.handleChange,value:e.title}),r.a.createElement("input",{placeholder:"address *",name:"address",onChange:this.handleChange,value:e.address}),r.a.createElement("input",{placeholder:"add an image link",name:"image",onChange:this.handleChange,value:e.image}),r.a.createElement("input",{placeholder:"add a link",name:"link",onChange:this.handleChange,value:e.link}),r.a.createElement(ee.a,{className:"Select-component",classNamePrefix:"Select-component",options:t,isMulti:!0,placeholder:"add it to a trip?",onChange:this.handleUserSelect,name:"trips"}),r.a.createElement("textarea",{placeholder:"add details",rows:"4",maxLength:"1000",name:"details",onChange:this.handleChange,value:e.details}),r.a.createElement("button",null,"submit")))}}]),a}(r.a.Component),le=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={trip:{name:"",owner:""},chat:{club:""},users:[],usernames:[],userInvited:1,request:{message:"",sender:"",recipient:"",club:null}},e.handleChange=function(t){try{var a=Object(g.a)(Object(g.a)({},e.state.trip),{},Object(f.a)({},t.target.name,t.target.value));e.setState({trip:a})}catch(n){console.log(n)}},e.handleSubmit=function(){var t=Object(v.a)(d.a.mark((function t(a){var n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,n=e.props.match.params.clubID,t.next=5,R(Object(g.a)(Object(g.a)({},e.state.trip),{},{owner:n}));case 5:r=t.sent,e.props.history.push("/mytrips/".concat(r.data.id)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}(),e.handleUserSelect=function(t){var a=Object(g.a)(Object(g.a)({},e.state.request),{},{recipient:t.name});e.setState({request:a})},e.handleAddMessageChange=function(t){t.preventDefault();try{var a=Object(g.a)(Object(g.a)({},e.state.request),{},Object(f.a)({},t.target.name,t.target.value));e.setState({request:a})}catch(n){console.log(n)}},e.handleInviteUser=Object(v.a)(d.a.mark((function t(){var a,n,r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=x(),n=e.state.request.recipient,r=e.state.request.message,c=parseFloat(e.props.match.params.clubID),t.next=7,W(Object(g.a)(Object(g.a)({},e.state.request),{},{sender:a,recipient:n,message:r,club:c}));case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])}))),e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(v.a)(d.a.mark((function e(){var t,a=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I();case 3:t=e.sent,this.setState({users:t.data}),t.data.map((function(e){return a.state.usernames.push(e.username)})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(!this.state.users)return null;var e=this.state,t=e.trip,a=e.request,n=this.props.match.params.clubID,c=this.state.users.map((function(e){return{value:e.username,label:e.username,name:e.id}}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"left-nav"},r.a.createElement(ce,{props:n})),r.a.createElement("div",{className:"central"},r.a.createElement("div",{className:"page-title"},r.a.createElement("h1",null,"club's dashboard")),r.a.createElement("div",{className:"club-trip-index-c"},r.a.createElement(ae,{props:this.props})),r.a.createElement("div",{className:"add-widgets"},r.a.createElement("div",{className:"create-a-trip"},r.a.createElement("h3",null,"create a trip"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("input",{placeholder:"name of the trip",name:"name",onChange:this.handleChange,value:t.name}),r.a.createElement("button",null,"submit"))),r.a.createElement("div",{className:"add-member"},r.a.createElement("h3",null,"add a member"),r.a.createElement("form",{onSubmit:this.handleInviteUser},r.a.createElement(ee.a,{className:"Select-component",options:c,placeholder:"select a user",onChange:this.handleUserSelect,name:"recipient"}),r.a.createElement("input",{placeholder:"your message",name:"message",onChange:this.handleAddMessageChange,value:a.message}),r.a.createElement("button",null,"invite!"))),r.a.createElement(se,null)))))}}]),a}(r.a.Component),ue=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={myTrips:[]},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(v.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P();case 3:return t=e.sent,e.next=6,t.data.reverse();case 6:a=e.sent,this.setState({myTrips:a}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"main-page"},r.a.createElement("div",{className:"page-title"},r.a.createElement("h1",null,"my trips")),r.a.createElement("div",{className:"my-trips-index"},this.state.myTrips.map((function(e){return r.a.createElement(te,Object.assign({},e,{key:e.id}))}))))}}]),a}(r.a.Component),oe=function(e){var t=e.id,a=e.title,n=(e.details,e.image);e.link,e.owner,e.trips;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"pin-card"},r.a.createElement(m.b,{to:"/mypins/".concat(t)},r.a.createElement("div",{className:"pin",key:t},r.a.createElement("div",{className:"pin-img"},r.a.createElement("img",{src:n,alt:"sorry, it did not load!"})),r.a.createElement("h3",null,a)))))},ie=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={allPins:[]},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(v.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.props.props.match.params.tripID,e.next=4,U(t);case 4:a=e.sent,this.setState({allPins:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.allPins;return r.a.createElement("div",{className:"main-page"},r.a.createElement("div",{className:"pins-frame"},e.map((function(e){return r.a.createElement(oe,Object.assign({},e,{key:e.id}))}))))}}]),a}(r.a.Component),me=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"left-nav"},r.a.createElement(ce,null)),r.a.createElement("div",{className:"central"},r.a.createElement("div",{className:"page-title"},r.a.createElement("h1",null,"trip show")),r.a.createElement(ie,{props:this.props})))}}]),a}(r.a.Component),pe=a(37),he=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={username:"",club:{name:"",members:[]},chat:{club:""},users:[],requests:[],allClubs:[],clubRequested:null},e.handleChangeCreateClub=function(t){try{var a=Object(g.a)(Object(g.a)({},e.state.club),{},Object(f.a)({},t.target.name,t.target.value));e.setState({club:a})}catch(n){console.log(n)}},e.handleSubmitCreateClub=function(){var t=Object(v.a)(d.a.mark((function t(a){var n,r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,n=x(),t.next=5,A(Object(g.a)(Object(g.a)({},e.state.club),{},{members:[n]}));case 5:return r=t.sent,console.log(r.data),c=r.data.id,t.next=10,B(Object(g.a)(Object(g.a)({},e.state.chat),{},{club:c}));case 10:e.props.history.push("/myclubs"),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}(),e.handleAcceptRequest=function(){var t=Object(v.a)(d.a.mark((function t(a){var n,r,c,s,l,u,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,n=parseFloat(a.target.value),r=x(),c=e.state.allClubs.filter((function(e){return e.id===n})),s=c[0].members.map((function(e){return e.id})),l=[].concat(Object(pe.a)(s),[r]),u=a.target.name,t.next=10,T(Object(g.a)(Object(g.a)({},c[0]),{},{members:l}),n);case 10:return t.next=12,H(u);case 12:return t.next=14,z();case 14:o=t.sent,e.setState({requests:o.data}),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(1),console.log(t.t0);case 21:case"end":return t.stop()}}),t,null,[[1,18]])})));return function(e){return t.apply(this,arguments)}}(),e.handleDeclineRequest=function(){var t=Object(v.a)(d.a.mark((function t(a){var n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,n=a.target.name,t.next=5,H(n);case 5:return t.next=7,z();case 7:r=t.sent,e.setState({requests:r.data}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(v.a)(d.a.mark((function e(){var t,a,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k();case 3:return t=e.sent,e.next=6,I();case 6:return a=e.sent,e.next=9,z();case 9:return n=e.sent,e.next=12,M();case 12:r=e.sent,this.setState({username:t,users:a.data,requests:n.data,allClubs:r.data}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,this,[[0,16]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.club,n=t.username,c=t.requests;return this.state.users&&this.state.allClubs?r.a.createElement("div",{className:"main-page dashboard"},r.a.createElement("div",{className:"page-title"},r.a.createElement("h1",null,n,"\xb4s dashboard")),r.a.createElement("div",{className:"dashboard-widgets"},r.a.createElement("div",{className:"create-club"},r.a.createElement("h3",null,"create a club"),r.a.createElement("form",{onSubmit:this.handleSubmitCreateClub},r.a.createElement("input",{placeholder:"name of the club",name:"name",onChange:this.handleChangeCreateClub,value:a.name}),r.a.createElement("button",null,"create!"))),r.a.createElement(se,null),r.a.createElement("div",null,r.a.createElement("div",{className:"requests-frame"},r.a.createElement("h3",null,"requests"),r.a.createElement("div",null,0===c.length?r.a.createElement("h5",null,"You have no pending requests"):c.map((function(t){return r.a.createElement("div",{key:t.id},r.a.createElement("p",null,r.a.createElement("strong",null,"from ",t.sender.username,":")),r.a.createElement("p",null,t.message),r.a.createElement("button",{onClick:e.handleAcceptRequest,value:t.club,name:t.id},"accept"),r.a.createElement("button",{onClick:e.handleDeclineRequest,name:t.id},"decline"))}))))))):null}}]),a}(r.a.Component),be=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={allPins:[]},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(v.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("".concat("/api","/pins/"),S());case 3:t=e.sent,this.setState({allPins:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.allPins;return e?r.a.createElement("div",{className:"main-page"},r.a.createElement("div",{className:"page-title"},r.a.createElement("h1",null,"my pins")),r.a.createElement("div",{className:"pins-and-create"},r.a.createElement("div",{className:"pins-frame"},e.map((function(e){return r.a.createElement(oe,Object.assign({},e,{key:e.id}))}))),r.a.createElement("div",null,r.a.createElement(se,null)))):null}}]),a}(r.a.Component),de=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"main-page"},r.a.createElement("div",{className:"page-title"},r.a.createElement("h1",null,"pin show")))}}]),a}(r.a.Component),ve=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement(m.a,null,r.a.createElement("div",{className:"navbars"},r.a.createElement(V,null)),r.a.createElement(p.c,null,r.a.createElement(p.a,{exact:!0,path:"/",component:h}),r.a.createElement(p.a,{path:"/mypins/:id",component:de}),r.a.createElement(p.a,{path:"/mypins",component:be}),r.a.createElement(p.a,{path:"/myclubs/:clubID/trips/:tripID",component:me}),r.a.createElement(p.a,{path:"/mytrips",component:ue}),r.a.createElement(p.a,{path:"/myclubs/:clubID/trips",component:ae}),r.a.createElement(p.a,{path:"/myclubs/:clubID",component:le}),r.a.createElement(p.a,{path:"/myclubs",component:$}),r.a.createElement(p.a,{path:"/dashboard",component:he}),r.a.createElement(p.a,{path:"/register",component:Y}),r.a.createElement(p.a,{path:"/login",component:G})))}}]),a}(r.a.Component);s.a.render(r.a.createElement(ve,null),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.60ad9c7a.chunk.js.map